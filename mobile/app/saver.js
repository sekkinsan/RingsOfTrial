"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Item_1 = require("./models/Item");
var core_1 = require("@angular/core");
var application_settings_1 = require("application-settings");
var SaveManager = /** @class */ (function () {
    function SaveManager() {
    }
    SaveManager.prototype.savePlayer = function (player) {
        var str = JSON.stringify(player);
        application_settings_1.setString("player", str);
        return true;
    };
    SaveManager.prototype.loadPlayer = function () {
        //get string from save  
        var str = application_settings_1.getString("player");
        return JSON.parse(str);
    };
    SaveManager.prototype.loadItems = function () {
        var items = [];
        var itemJson = require('./Assets/items.json');
        for (var i = 0; i < itemJson.length; i++) {
            items.push(new Item_1.Item(itemJson[i].name, i));
        }
        console.log(JSON.stringify(items));
        return items;
    };
    SaveManager.prototype.saveSpells = function (spell) {
        var str = JSON.stringify(spell);
        application_settings_1.setString("spell", str);
        console.log(str);
        return true;
    };
    SaveManager.prototype.loadSpells = function () {
        var str = application_settings_1.getString("spell");
        return JSON.parse(str);
    };
    SaveManager = __decorate([
        core_1.Injectable()
    ], SaveManager);
    return SaveManager;
}());
exports.SaveManager = SaveManager;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2F2ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzYXZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLHNDQUFxQztBQUlyQyxzQ0FBMkM7QUFFM0MsNkRBVThCO0FBRzlCO0lBQUE7SUE0REEsQ0FBQztJQTNERyxnQ0FBVSxHQUFWLFVBQVcsTUFBYztRQUNyQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pDLGdDQUFTLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELGdDQUFVLEdBQVY7UUFDSSx3QkFBd0I7UUFDeEIsSUFBSSxHQUFHLEdBQUcsZ0NBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM5QixNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsK0JBQVMsR0FBVDtRQUNJLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNmLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBRTlDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBQyxDQUFDO1lBQ3RDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxXQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlDLENBQUM7UUFFRCxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNuQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxnQ0FBVSxHQUFWLFVBQVcsS0FBYztRQUNyQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2hDLGdDQUFTLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDakIsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsZ0NBQVUsR0FBVjtRQUNJLElBQUksR0FBRyxHQUFHLGdDQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDN0IsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQW5DUSxXQUFXO1FBRHZCLGlCQUFVLEVBQUU7T0FDQSxXQUFXLENBNER2QjtJQUFELGtCQUFDO0NBQUEsQUE1REQsSUE0REM7QUE1RFksa0NBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9tb2RlbHMvUGxheWVyXCI7XHJcbmltcG9ydCB7IEl0ZW0gfSBmcm9tIFwiLi9tb2RlbHMvSXRlbVwiO1xyXG5pbXBvcnQgeyBTcGVsbCB9IGZyb20gXCIuL21vZGVscy9zcGVsbFwiO1xyXG5pbXBvcnQgeyBSb29tIH0gZnJvbSBcIi4vbW9kZWxzL1Jvb21cIjtcclxuaW1wb3J0IHsgUmluZyB9IGZyb20gXCIuL21vZGVscy9SaW5nXCI7XHJcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xyXG5cclxuaW1wb3J0IHtcclxuICAgIGdldEJvb2xlYW4sXHJcbiAgICBzZXRCb29sZWFuLFxyXG4gICAgZ2V0TnVtYmVyLFxyXG4gICAgc2V0TnVtYmVyLFxyXG4gICAgZ2V0U3RyaW5nLFxyXG4gICAgc2V0U3RyaW5nLFxyXG4gICAgaGFzS2V5LFxyXG4gICAgcmVtb3ZlLFxyXG4gICAgY2xlYXJcclxufSBmcm9tIFwiYXBwbGljYXRpb24tc2V0dGluZ3NcIjtcclxuXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIFNhdmVNYW5hZ2VyIHtcclxuICAgIHNhdmVQbGF5ZXIocGxheWVyOiBQbGF5ZXIpOiBCb29sZWFuIHtcclxuICAgICAgICBsZXQgc3RyID0gSlNPTi5zdHJpbmdpZnkocGxheWVyKTtcclxuICAgICAgICBzZXRTdHJpbmcoXCJwbGF5ZXJcIiwgc3RyKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkUGxheWVyKCk6IFBsYXllciB7XHJcbiAgICAgICAgLy9nZXQgc3RyaW5nIGZyb20gc2F2ZSAgXHJcbiAgICAgICAgbGV0IHN0ciA9IGdldFN0cmluZyhcInBsYXllclwiKTtcclxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRJdGVtcygpOiBJdGVtW10ge1xyXG4gICAgICAgIGxldCBpdGVtcyA9IFtdO1xyXG4gICAgICAgIGxldCBpdGVtSnNvbiA9IHJlcXVpcmUoJy4vQXNzZXRzL2l0ZW1zLmpzb24nKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtSnNvbi5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGl0ZW1zLnB1c2gobmV3IEl0ZW0oaXRlbUpzb25baV0ubmFtZSwgaSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoaXRlbXMpKTtcclxuICAgICAgICByZXR1cm4gaXRlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZVNwZWxscyhzcGVsbDogU3BlbGxbXSk6IEJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBzdHIgPSBKU09OLnN0cmluZ2lmeShzcGVsbCk7XHJcbiAgICAgICAgc2V0U3RyaW5nKFwic3BlbGxcIiwgc3RyKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhzdHIpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRTcGVsbHMoKTogU3BlbGxbXSB7XHJcbiAgICAgICAgbGV0IHN0ciA9IGdldFN0cmluZyhcInNwZWxsXCIpO1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2F2ZUNsZWFyZWRSb29tcyhyb29tOiBSb29tKTogQm9vbGVhbiB7XHJcbiAgICAvLyAgICAgbGV0IHN0ciA9IEpTT04uc3RyaW5naWZ5KHJvb20pO1xyXG4gICAgLy8gICAgIHNldFN0cmluZyhcInJvb21cIiwgc3RyKTtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhzdHIpO1xyXG4gICAgLy8gICAgIHJldHVybiB0cnVlO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIGxvYWRDbGVhcmVkUm9vbXMoKTogbnVtYmVyW10ge1xyXG4gICAgLy8gICAgIGxldCBzdHIgPSBnZXRTdHJpbmcoXCJyb29tXCIpO1xyXG4gICAgLy8gICAgIHJldHVybiBKU09OLnBhcnNlKHN0cilcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBzYXZlQ2xlYXJlZFJpbmdzKHpvbmU6IFJpbmcpOiBCb29sZWFuIHtcclxuICAgIC8vICAgICBsZXQgc3RyID0gSlNPTi5zdHJpbmdpZnkoem9uZSk7XHJcbiAgICAvLyAgICAgc2V0U3RyaW5nKFwiem9uZVwiLCBzdHIpO1xyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKHN0cilcclxuICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBsb2FkQ2xlYXJlZFJpbmdzKCk6IG51bWJlcltdIHtcclxuICAgIC8vICAgICBsZXQgc3RyID0gZ2V0U3RyaW5nKFwiem9uZVwiKTtcclxuICAgIC8vICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xyXG4gICAgLy8gfVxyXG59Il19